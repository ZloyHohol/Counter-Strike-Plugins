# Плагины - Задачи, Идеи и Известные Проблемы

Этот документ содержит список задач, идей для улучшения и известных проблем для различных плагинов, основанный на обратной связи.

---

## 1. PlayerRewardAndDiscipline (PRD)

*   **Статус:** Требует доработки.

*   **Проблема с MVP:** Секция MVP/СЦИ работает некорректно, особенно с ботами. Либо не начинается голосование, либо не начисляются деньги по его итогам. Требуется тестирование с реальными игроками для полной диагностики.

*   **Проблема с наказанием за тимкилл:** Система наказаний за убийство союзников не функционирует должным образом. Возможные причины: либо выбран режим по умолчанию, несовместимый с ботами (которые не могут голосовать), либо система не регистрирует тимкиллы от ботов.

---

## 2. HUD_Damage

*   **Статус:** Требует улучшения.

*   **Идея по улучшению:** Добавить отображение оставшейся брони у жертвы в HUD-сообщении о нанесенном уроне.

*   **Идея по локализации и формату:** Изменить текущий формат вывода `Урон -%i | Осталось - %s/ХП` на более компактный и информативный, включающий броню. Предлагаемый формат: `{значение}Ж | {значение}Б` (где Ж - Жизни, Б - Броня). Это позволит атакующему лучше оценивать "живучесть" цели.

---

## 3. SmokeBombCombo (SBC_V3)

*   **Статус:** Требует доработки.

*   **Проблема с асинхронностью:** Эффекты плагина (урон и окрашивание дыма) прекращаются примерно за 1.5-2 секунды до того, как дым визуально полностью рассеется. Это создает рассинхронизацию между визуальным эффектом и его действием.

*   **Идея по улучшению:** Вынести в отдельный CVAR время действия эффектов плагина (токсичности и окрашивания). Это позволит администраторам гибко настраивать длительность эффектов, не прибегая к перекомпиляции плагина, особенно если в будущем появится возможность изменять стандартное время жизни дымовой гранаты.

---

## 4. SkinChooser v5.5

*   **Статус:** План для будущих версий.

*   **Интеграция с PRD (система "Клоун" за тимкилл):**
    *   **Задача:** Реализовать функционал, аналогичный старому плагину `tkclown.sp`. При наказании игрока за тимкилл через систему **PRD**, его модель должна принудительно меняться на "обидный" скин (например, скин клоуна).
    *   **Задача:** Во время действия этого наказания, игроку необходимо заблокировать доступ к меню `!models`. Он не должен иметь возможности сменить "наказанный" скин или сбросить его на стандартный.

*   **Возвращение вида от третьего лица:**
    *   **Задача:** Восстановить функционал просмотра своей модели от третьего лица, который был в старых версиях плагина (например, v5.3). Реализовать команды `!thirdon` / `!thirdoff`.
    *   **Ключевое требование:** Эта функция не должна требовать активации `sv_cheats 1` на сервере.

---

## 5. SoundManifest

*   **Статус:** Известная проблема.

*   **Проблема с сериями убийств:** Плагин отображает сообщения о сериях убийств (например, "MultiKill", "UltraKill") только в первом раунде. В последующих раундах эта функциональность перестает работать, и сообщения о сериях убийств не выводятся.