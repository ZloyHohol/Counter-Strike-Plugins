# Death Informer Enhanced

**Версия:** 3.6

**Автор:** Qwen for ZloyHohol (Исправлено и доработано Gemini)

## Описание

`Death Informer Enhanced` — это плагин для SourceMod, который предоставляет игрокам подробную информацию о полученном уроне и убийце сразу после их смерти. Этот плагин является глубокой переработкой и исправлением предыдущих версий, нацеленной на стабильность, точность и расширенную функциональность.

## Возможности

- **Информация об убийце:** После смерти игроку отображается имя убийцы, его оставшееся здоровье и броня.
- **Детальная история урона:** Плагин отслеживает и отображает последние 20 событий урона, полученных от атакующего.
- **Агрегация урона от дробовиков:** Урон от нескольких дробинок, попавших в цель за один выстрел, корректно суммируется и отображается как одно событие.
- **Статистика по зонам попадания:** Если включено, отображается подробная информация о том, сколько урона и в какие части тела было нанесено (голова, туловище, руки, ноги).
- **Многоязычная поддержка:** Все сообщения вынесены в файл переводов, что обеспечивает поддержку нескольких языков (включая русский, английский, украинский и немецкий).
- **Цветовое выделение:** Важная информация в сообщениях (урон, здоровье, броня) подсвечивается разными цветами для лучшего восприятия.

## Принцип работы

Плагин "слушает" события `player_hurt` и `player_death`. При получении урона он записывает информацию о нём в историю. В момент смерти он анализирует эту историю за определённый промежуток времени и выводит в чат жертвы итоговую сводку.

## Настройки (CVars)

Эти команды можно прописать в файле `server.cfg` или `sourcemod/plugin.deathinformer.cfg`.

- `sm_deathinformer_history_time` (стандартно: `30.0`)
  - Как долго (в секундах) отслеживать историю урона от атакующего перед смертью.

- `sm_deathinformer_detail_info` (стандартно: `1`)
  - Включить (1) или выключить (0) отображение детальной информации о зонах попадания.

- `sm_deathinformer_shotgun_agg` (стандартно: `1`)
  - Включить (1) или выключить (0) агрегацию (суммирование) урона от дробовиков.

## Установка

1.  Скопируйте `DeathInformer.smx` в папку `addons/sourcemod/plugins/` на вашем сервере.
2.  Скопируйте папку `translations` в папку `addons/sourcemod/` на вашем сервере.
