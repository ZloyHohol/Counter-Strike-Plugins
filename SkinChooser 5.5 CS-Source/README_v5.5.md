# sm_skinchooser v5.5 (CSS)

Версия плагина, доработанная и исправленная в сотрудничестве с ZloyHohol.
Оригинальный репозиторий: [https://github.com/ZloyHohol/Counter-Strike-Plugins/](https://github.com/ZloyHohol/Counter-Strike-Plugins/)

## История изменений (v5.4 -> v5.5)

Эта версия является крупным рефакторингом и исправлением ошибок предыдущих версий плагина.

### Ключевые исправления и улучшения:

*   **Полная переработка структуры конфигурации:**
    *   Убраны все файлы `*_downloads.ini`. Плагин теперь автоматически определяет и добавляет в список загрузки все необходимые файлы модели (`.vvd`, `.vtx`, `.phy`) и ее материалы.
    *   Созданы подпапки `configs/sm_skinchooser/maps/` и `configs/sm_skinchooser/force/` для более логичного и гибкого управления скинами для конкретных карт или для принудительной установки.
*   **Упрощение кода:**
    *   Полностью удален функционал, связанный со скинами рук и ботов из CS:GO, для упрощения кода и повышения стабильности в CS:Source.
*   **Исправление ошибок с моделями:**
    *   Убрана ненадёжная проверка на существование файла (`FileExists`), которая приводила к "ERROR" моделям из-за особенностей виртуальной файловой системы движка Source.
    *   Реализован механизм сохранения и восстановления стандартной модели игрока.

## План работ на версию 5.5

1.  **Динамическая перезагрузка конфигурации:**
    *   Реализовать автоматическую перезагрузку всех скинов в начале каждой карты (`OnMapStart`).
    *   Добавить админ-команду `sm_reload_skins` для ручной перезагрузки конфигов без смены карты.
2.  **Возврат к стандартной модели:**
    *   Добавить в меню `!models` пункт `[ Вернуть стандартную модель ]` для удобного сброса кастомного скина.
3.  **Проверка логики флагов:**
    *   Проверить и убедиться в корректной работе системы флагов и групп доступа к скинам на современных версиях SourceMod.
