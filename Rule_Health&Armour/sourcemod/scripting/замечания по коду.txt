Code audit and compile blockers in your new edition
You’ve pushed this toward modern SM APIs, which is good. The main compile failures come from mismatched TopMenu APIs, non-existent KeyValues methods, unsafe string handling, and AdminId usage. Here’s a precise breakdown and fixes.

Admin menu API mismatches
Wrong category constant: You’re using ADMINMENU_PLAYER_SETTINGS, but the adminmenu include exposes ADMINMENU_PLAYERCOMMANDS, ADMINMENU_SERVERCOMMANDS, and ADMINMENU_VOTINGCOMMANDS. This causes a compile error for an unknown identifier. Use ADMINMENU_PLAYERCOMMANDS.

Wrong TopMenu action enum: Your handler checks TopMenuAction_Display, but the current API uses TopMenuAction_DisplayOption and TopMenuAction_SelectOption. Using the old enum names fails to compile. Replace with the correct actions.

Signature mismatch for OnAdminMenuReady: The forward is forward void OnAdminMenuReady(Handle topmenu);. Declaring public void OnAdminMenuReady(TopMenu topmenu) will fail strict signature matching under newdecls. Use the Handle form and cast to TopMenu inside.

AddItem overload: Your AddItem("sm_rha", AdminMenu_RHAMenu, rha_category, "sm_rha", ADMFLAG_GENERIC) is correct for topmenus, but ensure the handler signature matches TopMenuHandler: (TopMenu topmenu, TopMenuAction action, TopMenuObject object_id, int param, char[] buffer, int maxlength). Also update actions per above.

Fixed admin menu block
sourcepawn
public void OnAllPluginsLoaded()
{
    TopMenu topmenu;
    if (LibraryExists("adminmenu") && (topmenu = GetAdminTopMenu()) != null)
    {
        OnAdminMenuReady(view_as<Handle>(topmenu));
    }
}

public void OnAdminMenuReady(Handle topmenu)
{
    TopMenu hMenu = view_as<TopMenu>(topmenu);
    TopMenuObject category = hMenu.FindCategory(ADMINMENU_PLAYERCOMMANDS); // fixed
    if (category != INVALID_TOPMENUOBJECT)
    {
        hMenu.AddItem(
            "sm_rha",
            AdminMenu_RHAMenu,
            category,
            "sm_rha",
            ADMFLAG_GENERIC
        );
    }
}

public void AdminMenu_RHAMenu(TopMenu topmenu, TopMenuAction action, TopMenuObject object_id, int param, char[] buffer, int maxlength)
{
    if (action == TopMenuAction_DisplayOption) // fixed
    {
        strcopy(buffer, maxlength, "RHA Settings");
    }
    else if (action == TopMenuAction_SelectOption) // fixed
    {
        BuildRHAMenu(param);
    }
}
Sources:

KeyValues API usage errors
Non-existent methods: You call KeyValues.Clone() and GoToKey(). The methodmap in modern SourceMod does not provide Clone() or GoToKey(). Use JumpToKey(), GotoFirstSubKey(), GotoNextKey(), GoBack(), Rewind(), and KvCopySubkeys() to copy subtrees into a new KeyValues. Any reference to Clone and GoToKey will not compile.

Creating defaults: The default-config builder must use JumpToKey(..., true) and set values with SetNum/SetString. Replace all GoToKey calls accordingly.

Fixed default config creation
sourcepawn
void LoadConfig()
{
    char path[PLATFORM_MAX_PATH];
    BuildPath(Path_SM, path, sizeof(path), "configs/RHA.cfg");

    g_kvConfig = new KeyValues("RHA");

    if (!FileExists(path))
    {
        KeyValues kv = new KeyValues("RHA");

        kv.JumpToKey("Human-gamers", true);
        kv.JumpToKey("Guest", true);
        kv.SetString("Flags", "");
        kv.JumpToKey("Team_T", true);
        kv.SetNum("health", 100);
        kv.SetNum("armor", 0);
        kv.GoBack();
        kv.JumpToKey("Team_CT", true);
        kv.SetNum("health", 100);
        kv.SetNum("armor", 0);
        kv.GoBack(); // back to Guest
        kv.GoBack(); // back to Human-gamers

        kv.JumpToKey("Admin_z", true);
        kv.SetString("Flags", "z");
        kv.SetNum("CanUseImmortality", 1);
        kv.JumpToKey("Team_T", true);
        kv.SetNum("health", 120);
        kv.SetNum("armor", 100);
        kv.GoBack();
        kv.JumpToKey("Team_CT", true);
        kv.SetNum("health", 120);
        kv.SetNum("armor", 100);
        kv.GoBack(); // back to Admin_z
        kv.GoBack(); // back to Human-gamers
        kv.GoBack(); // back to root

        kv.JumpToKey("bots", true);
        kv.JumpToKey("Team_T", true);
        kv.SetNum("health", 90);
        kv.SetNum("armor", 50);
        kv.GoBack();
        kv.JumpToKey("Team_CT", true);
        kv.SetNum("health", 90);
        kv.SetNum("armor", 50);
        kv.GoBack(); // back to bots
        kv.GoBack(); // back to root

        kv.ExportToFile(path);
        delete kv;

        if (g_hCvarEnableLogging.BoolValue)
        {
            RHA_LogAction(0, 0, "RHA config not found, created default at %s", path);
        }
    }

    if (!g_kvConfig.ImportFromFile(path))
    {
        LogError("Failed to load config file: %s", path);
    }
}
Sources:

Group selection cloning: Replace return g_kvConfig.Clone(); with “create a new KeyValues and copy subkeys from the current cursor”:

sourcepawn
KeyValues GetClientGroupSettings(int client, bool isBot)
{
    if (isBot)
    {
        g_kvConfig.Rewind();
        if (g_kvConfig.JumpToKey("bots"))
        {
            KeyValues kvBot = new KeyValues("bots");
            KvCopySubkeys(g_kvConfig, kvBot);
            g_kvConfig.GoBack();
            return kvBot;
        }
        return null;
    }

    g_kvConfig.Rewind();
    if (!g_kvConfig.JumpToKey("Human-gamers"))
    {
        return null;
    }

    KeyValues kvBestGroup = null;
    int bestMatchCount = -1;

    if (g_kvConfig.GotoFirstSubKey(false))
    {
        do
        {
            char sGroupName[64];
            g_kvConfig.GetSectionName(sGroupName, sizeof(sGroupName));
            char sFlags[64];
            g_kvConfig.GetString("Flags", sFlags, sizeof(sFlags), "");

            AdminId id = GetUserAdmin(client);
            int flagsMask = ReadFlagString(sFlags);

            if (id != INVALID_ADMIN_ID && (GetAdminFlag(id, Admin_Root, Access_Effective) || ((GetUserFlagBits(client) & flagsMask) == flagsMask)))
            {
                int currentMatchCount = strlen(sFlags);
                if (currentMatchCount > bestMatchCount)
                {
                    bestMatchCount = currentMatchCount;
                    if (kvBestGroup != null) delete kvBestGroup;
                    kvBestGroup = new KeyValues(sGroupName);
                    KvCopySubkeys(g_kvConfig, kvBestGroup);
                }
            }
            else if (strlen(sFlags) == 0 && bestMatchCount < 0)
            {
                bestMatchCount = 0;
                if (kvBestGroup != null) delete kvBestGroup;
                kvBestGroup = new KeyValues(sGroupName);
                KvCopySubkeys(g_kvConfig, kvBestGroup);
            }
        } while (g_kvConfig.GotoNextKey(false));
    }

    g_kvConfig.GoBack();
    return kvBestGroup;
}
Sources:

AdminId usage and flags
Invalid AdminId check: Use INVALID_ADMIN_ID instead of null. The admin include exposes INVALID_ADMIN_ID; comparing to null is not valid for methodmap AdminId.

Root/admin flag checks: Use GetAdminFlag(id, Admin_Root, Access_Effective) or GetAdminFlag(id, Admin_Generic, Access_Effective). There is no admin.GetFlags() method on AdminId in SM’s public API; that will not compile.

Minimal fix inside your selection loop
sourcepawn
AdminId id = GetUserAdmin(client);
if (id != INVALID_ADMIN_ID)
{
    int flags = ReadFlagString(sFlags);
    if (GetAdminFlag(id, Admin_Root, Access_Effective) || ((GetUserFlagBits(client) & flags) == flags))
    {
        // ...
    }
}
Sources:

String handling in ApplyHealthArmorToClient
Buffer size and assignment: char sTeam[4]; then sTeam = "Team_T"; is invalid. The buffer is too small and SourcePawn doesn’t allow assigning string literals to char arrays that way. Use a larger buffer and strcopy. This is both a compile-time and runtime risk.

Team key selection: Use a local char sTeam[16]; and strcopy based on team.

Fixed section
sourcepawn
CSTeam team = view_as<CSTeam>(GetClientTeam(client));
char sTeam[16];
if (team == CS_TEAM_T)      strcopy(sTeam, sizeof(sTeam), "Team_T");
else if (team == CS_TEAM_CT)strcopy(sTeam, sizeof(sTeam), "Team_CT");
else
{
    delete kvGroup;
    return;
}

if (kvGroup.JumpToKey(sTeam))
{
    int health = kvGroup.GetNum("health", 100);
    int armor  = kvGroup.GetNum("armor", 0);

    SetEntProp(client, Prop_Data, "m_iHealth", health);
    SetEntProp(client, Prop_Send, "m_ArmorValue", armor);

    // ...
}
Damage hook signature correctness
Your damage hook uses the full SDKHooks 2.0+ signature with weapon and force vectors: Hook_OnTakeDamage(int victim, int &attacker, int &inflictor, float &damage, int &damagetype, int &weapon, float damageForce[3], float damagePosition[3]) which is supported by the sdkhooks include’s typeset and compiles correctly. Keep this one consistent across the plugin.

Logging and multicolors
CPrintToChat and tags look fine with multicolors include.

RHA_LogAction uses LogMessage which is available. No issues there. If you want dated file logs, use LogToFile with a path you format via FormatTime as seen in your other variant.

Summary of changes to make it compile
Replace ADMINMENU_PLAYER_SETTINGS with ADMINMENU_PLAYERCOMMANDS.

Update admin menu handler actions to TopMenuAction_DisplayOption and TopMenuAction_SelectOption.

Change OnAdminMenuReady(TopMenu topmenu) to OnAdminMenuReady(Handle topmenu) and cast.

Remove all KeyValues.Clone() and GoToKey(); instead use JumpToKey, KvCopySubkeys, GoBack, Rewind.

Use INVALID_ADMIN_ID and GetAdminFlag / GetUserFlagBits for admin checks. Remove admin.GetFlags().

Fix team key selection with proper buffers and strcopy.

Keep SDKHook signature consistent with sdkhooks 2.0+ (your current full signature is fine).