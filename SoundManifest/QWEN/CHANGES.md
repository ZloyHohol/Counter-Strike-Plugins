# SoundManifest Plugin - Изменения и особенности

## Версия 3.2 "Gemini"

### Основные изменения

1. **Система селективных уведомлений**
   - Введена концепция "банальных" убийств (RifleKill, SMGKill, ShotgunKill, SniperKill, PistolKill, MachineGunKill)
   - Эти события больше не объявляются с помощью звуков и сообщений
   - Только значимые события (FirstBlood, Headshot, KnifeKill, GrenadeKill, KillStreaks и др.) получают аудио/текстовые уведомления

2. **Новые типы убийств**
   - Добавлена поддержка MachineGunKill (M249)
   - Добавлены новые уровни эпических серий убийств (MultiKill, SuperKill, UltraKill, MegaKill, MonsterKill, Godlike)

3. **Улучшения системы TeamKill/JusticeKill**
   - JusticeKill срабатывает, когда у убитого игрока есть определенное количество тимкиллов
   - Порог настраивается через CVAR `sm_soundmanifest_justicekill_threshold`

4. **Новые CVAR-настройки**
   - `sm_soundmanifest_debug_level` - уровень отладки (0-3)
   - `sm_soundmanifest_max_file_size` - максимальный размер звукового файла (в МБ)
   - `sm_soundmanifest_max_sounds_per_event` - максимальное количество звуков на событие
   - `sm_soundmanifest_epicstreak_threshold` - порог для эпических серий убийств

5. **Улучшенная система аудиенции**
   - Поддержка различных аудиторий: killer, victim, killer_team, victim_team, all_alive, all
   - Возможность комбинировать несколько аудиторий для одного события

### Известные проблемы

1. **Форматы {1:N} {2:N} не работают корректно**
   - При использовании этих форматов для отображения имен игроков могут возникать проблемы
   - Вместо этого используется система локализованных фраз через translation файлы

2. **Ограничения на размер файлов**
   - Все звуковые файлы проверяются на размер и формат
   - Максимальный размер настраивается через CVAR

### Структура проекта

- `cstrike/addons/sourcemod/scripting/` - исходный код плагина
- `cstrike/addons/sourcemod/plugins/` - скомпилированный плагин
- `configs/` - конфигурационные файлы
- `translations/` - файлы локализации

### Управление настройками

Все настройки можно изменить через CVAR или в файле `SoundManifest-extra.cfg`, который автоматически создается плагином.